{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport $02cb4c75c506befe$exports from \"./ar-AE.mjs\";\nimport $568b8163f1e56faf$exports from \"./bg-BG.mjs\";\nimport $87581c0202d106b8$exports from \"./cs-CZ.mjs\";\nimport $a10a0369f5433ed1$exports from \"./da-DK.mjs\";\nimport $bfd288727d5cb166$exports from \"./de-DE.mjs\";\nimport $ca177778f9a74e3c$exports from \"./el-GR.mjs\";\nimport $9b5aa79ef84beb6c$exports from \"./en-US.mjs\";\nimport $57968e8209de2557$exports from \"./es-ES.mjs\";\nimport $60690790bf4c1c6a$exports from \"./et-EE.mjs\";\nimport $1101246e8c7d9357$exports from \"./fi-FI.mjs\";\nimport $6404b5cb5b241730$exports from \"./fr-FR.mjs\";\nimport $dfeafa702e92e31f$exports from \"./he-IL.mjs\";\nimport $2d125e0b34676352$exports from \"./hr-HR.mjs\";\nimport $ea029611d7634059$exports from \"./hu-HU.mjs\";\nimport $77f075bb86ad7091$exports from \"./it-IT.mjs\";\nimport $6e87462e84907983$exports from \"./ja-JP.mjs\";\nimport $9246f2c6edc6b232$exports from \"./ko-KR.mjs\";\nimport $e587accc6c0a434c$exports from \"./lt-LT.mjs\";\nimport $03a1900e7400b5ab$exports from \"./lv-LV.mjs\";\nimport $1387676441be6cf6$exports from \"./nb-NO.mjs\";\nimport $17e82ebf0f8ab91f$exports from \"./nl-NL.mjs\";\nimport $2f5377d3471630e5$exports from \"./pl-PL.mjs\";\nimport $dee9868b6fa95ffe$exports from \"./pt-BR.mjs\";\nimport $f8b2e63637cbb5a6$exports from \"./pt-PT.mjs\";\nimport $46a885db3b44ea95$exports from \"./ro-RO.mjs\";\nimport $50d8a8f0afa9dee5$exports from \"./ru-RU.mjs\";\nimport $2867ee6173245507$exports from \"./sk-SK.mjs\";\nimport $0631b65beeb09b50$exports from \"./sl-SI.mjs\";\nimport $65fc749265dcd686$exports from \"./sr-SP.mjs\";\nimport $69ba655c7853c08e$exports from \"./sv-SE.mjs\";\nimport $a79794784d61577c$exports from \"./tr-TR.mjs\";\nimport $c2845791417ebaf4$exports from \"./uk-UA.mjs\";\nimport $29b642d0025cc7a4$exports from \"./zh-CN.mjs\";\nimport $cd36dd33f9d46936$exports from \"./zh-TW.mjs\";\nimport { announce as $3yVy0$announce } from \"@react-aria/live-announcer\";\nimport { ariaHideOutside as $3yVy0$ariaHideOutside } from \"@react-aria/overlays\";\nimport { listData as $3yVy0$listData, getItemId as $3yVy0$getItemId } from \"@react-aria/listbox\";\nimport { useRouter as $3yVy0$useRouter, chain as $3yVy0$chain, useLabels as $3yVy0$useLabels, isAppleDevice as $3yVy0$isAppleDevice, mergeProps as $3yVy0$mergeProps } from \"@react-aria/utils\";\nimport { useMemo as $3yVy0$useMemo, useRef as $3yVy0$useRef, useEffect as $3yVy0$useEffect } from \"react\";\nimport { getChildNodes as $3yVy0$getChildNodes, getItemCount as $3yVy0$getItemCount } from \"@react-stately/collections\";\nimport { ListKeyboardDelegate as $3yVy0$ListKeyboardDelegate, useSelectableCollection as $3yVy0$useSelectableCollection } from \"@react-aria/selection\";\nimport { privateValidationStateProp as $3yVy0$privateValidationStateProp } from \"@react-stately/form\";\nimport { useLocalizedStringFormatter as $3yVy0$useLocalizedStringFormatter } from \"@react-aria/i18n\";\nimport { useMenuTrigger as $3yVy0$useMenuTrigger } from \"@react-aria/menu\";\nimport { useTextField as $3yVy0$useTextField } from \"@react-aria/textfield\";\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $de5926a92e8ebc5b$exports = {};\n$de5926a92e8ebc5b$exports = {\n  \"ar-AE\": $02cb4c75c506befe$exports,\n  \"bg-BG\": $568b8163f1e56faf$exports,\n  \"cs-CZ\": $87581c0202d106b8$exports,\n  \"da-DK\": $a10a0369f5433ed1$exports,\n  \"de-DE\": $bfd288727d5cb166$exports,\n  \"el-GR\": $ca177778f9a74e3c$exports,\n  \"en-US\": $9b5aa79ef84beb6c$exports,\n  \"es-ES\": $57968e8209de2557$exports,\n  \"et-EE\": $60690790bf4c1c6a$exports,\n  \"fi-FI\": $1101246e8c7d9357$exports,\n  \"fr-FR\": $6404b5cb5b241730$exports,\n  \"he-IL\": $dfeafa702e92e31f$exports,\n  \"hr-HR\": $2d125e0b34676352$exports,\n  \"hu-HU\": $ea029611d7634059$exports,\n  \"it-IT\": $77f075bb86ad7091$exports,\n  \"ja-JP\": $6e87462e84907983$exports,\n  \"ko-KR\": $9246f2c6edc6b232$exports,\n  \"lt-LT\": $e587accc6c0a434c$exports,\n  \"lv-LV\": $03a1900e7400b5ab$exports,\n  \"nb-NO\": $1387676441be6cf6$exports,\n  \"nl-NL\": $17e82ebf0f8ab91f$exports,\n  \"pl-PL\": $2f5377d3471630e5$exports,\n  \"pt-BR\": $dee9868b6fa95ffe$exports,\n  \"pt-PT\": $f8b2e63637cbb5a6$exports,\n  \"ro-RO\": $46a885db3b44ea95$exports,\n  \"ru-RU\": $50d8a8f0afa9dee5$exports,\n  \"sk-SK\": $2867ee6173245507$exports,\n  \"sl-SI\": $0631b65beeb09b50$exports,\n  \"sr-SP\": $65fc749265dcd686$exports,\n  \"sv-SE\": $69ba655c7853c08e$exports,\n  \"tr-TR\": $a79794784d61577c$exports,\n  \"uk-UA\": $c2845791417ebaf4$exports,\n  \"zh-CN\": $29b642d0025cc7a4$exports,\n  \"zh-TW\": $cd36dd33f9d46936$exports\n};\nfunction $c350ade66beef0af$export$8c18d1b4f7232bbf(props, state) {\n  var buttonRef = props.buttonRef,\n    popoverRef = props.popoverRef,\n    inputRef = props.inputRef,\n    listBoxRef = props.listBoxRef,\n    keyboardDelegate = props.keyboardDelegate,\n    shouldFocusWrap = props.shouldFocusWrap,\n    isReadOnly = props.isReadOnly,\n    isDisabled = props.isDisabled;\n  var stringFormatter = (0, $3yVy0$useLocalizedStringFormatter)((0, ($parcel$interopDefault($de5926a92e8ebc5b$exports))), \"@react-aria/combobox\");\n  var _ref = (0, $3yVy0$useMenuTrigger)({\n      type: \"listbox\",\n      isDisabled: isDisabled || isReadOnly\n    }, state, buttonRef),\n    menuTriggerProps = _ref.menuTriggerProps,\n    menuProps = _ref.menuProps;\n  (0, $3yVy0$listData).set(state, {\n    id: menuProps.id\n  });\n  var delegate = (0, $3yVy0$useMemo)(function () {\n    return keyboardDelegate || new (0, $3yVy0$ListKeyboardDelegate)(state.collection, state.disabledKeys, listBoxRef);\n  }, [keyboardDelegate, state.collection, state.disabledKeys, listBoxRef]);\n  var _ref2 = (0, $3yVy0$useSelectableCollection)({\n      selectionManager: state.selectionManager,\n      keyboardDelegate: delegate,\n      disallowTypeAhead: true,\n      disallowEmptySelection: true,\n      shouldFocusWrap: shouldFocusWrap,\n      ref: inputRef,\n      isVirtualized: true\n    }),\n    collectionProps = _ref2.collectionProps;\n  var router = (0, $3yVy0$useRouter)();\n  var onKeyDown = function onKeyDown(e) {\n    switch (e.key) {\n      case \"Enter\":\n      case \"Tab\":\n        if (state.isOpen && e.key === \"Enter\") e.preventDefault();\n        if (state.isOpen && state.selectionManager.focusedKey != null && state.selectionManager.isLink(state.selectionManager.focusedKey)) {\n          if (e.key === \"Enter\") {\n            var item = listBoxRef.current.querySelector(`[data-key=\"${CSS.escape(state.selectionManager.focusedKey.toString())}\"]`);\n            if (item instanceof HTMLAnchorElement) router.open(item, e);\n          }\n          state.close();\n        } else state.commit();\n        break;\n      case \"Escape\":\n        if (state.selectedKey !== null || state.inputValue === \"\" || props.allowsCustomValue) e.continuePropagation();\n        state.revert();\n        break;\n      case \"ArrowDown\":\n        state.open(\"first\", \"manual\");\n        break;\n      case \"ArrowUp\":\n        state.open(\"last\", \"manual\");\n        break;\n      case \"ArrowLeft\":\n      case \"ArrowRight\":\n        state.selectionManager.setFocusedKey(null);\n        break;\n    }\n  };\n  var onBlur = function onBlur(e) {\n    var _popoverRef_current;\n    if (e.relatedTarget === (buttonRef === null || buttonRef === void 0 ? void 0 : buttonRef.current) || ((_popoverRef_current = popoverRef.current) === null || _popoverRef_current === void 0 ? void 0 : _popoverRef_current.contains(e.relatedTarget))) return;\n    if (props.onBlur) props.onBlur(e);\n    state.setFocused(false);\n  };\n  var onFocus = function onFocus(e) {\n    if (state.isFocused) return;\n    if (props.onFocus) props.onFocus(e);\n    state.setFocused(true);\n  };\n  var _state$displayValidat = state.displayValidation,\n    isInvalid = _state$displayValidat.isInvalid,\n    validationErrors = _state$displayValidat.validationErrors,\n    validationDetails = _state$displayValidat.validationDetails;\n  var _ref3 = (0, $3yVy0$useTextField)(_objectSpread(_objectSpread({}, props), {}, _defineProperty({\n      onChange: state.setInputValue,\n      onKeyDown: !isReadOnly ? (0, $3yVy0$chain)(state.isOpen && collectionProps.onKeyDown, onKeyDown, props.onKeyDown) : props.onKeyDown,\n      onBlur: onBlur,\n      value: state.inputValue,\n      onFocus: onFocus,\n      autoComplete: \"off\",\n      validate: undefined\n    }, (0, $3yVy0$privateValidationStateProp), state)), inputRef),\n    labelProps = _ref3.labelProps,\n    inputProps = _ref3.inputProps,\n    descriptionProps = _ref3.descriptionProps,\n    errorMessageProps = _ref3.errorMessageProps;\n  var onPress = function onPress(e) {\n    if (e.pointerType === \"touch\") {\n      inputRef.current.focus();\n      state.toggle(null, \"manual\");\n    }\n  };\n  var onPressStart = function onPressStart(e) {\n    if (e.pointerType !== \"touch\") {\n      inputRef.current.focus();\n      state.toggle(e.pointerType === \"keyboard\" || e.pointerType === \"virtual\" ? \"first\" : null, \"manual\");\n    }\n  };\n  var triggerLabelProps = (0, $3yVy0$useLabels)({\n    id: menuTriggerProps.id,\n    \"aria-label\": stringFormatter.format(\"buttonLabel\"),\n    \"aria-labelledby\": props[\"aria-labelledby\"] || labelProps.id\n  });\n  var listBoxProps = (0, $3yVy0$useLabels)({\n    id: menuProps.id,\n    \"aria-label\": stringFormatter.format(\"listboxLabel\"),\n    \"aria-labelledby\": props[\"aria-labelledby\"] || labelProps.id\n  });\n  var lastEventTime = (0, $3yVy0$useRef)(0);\n  var onTouchEnd = function onTouchEnd(e) {\n    if (isDisabled || isReadOnly) return;\n    if (e.timeStamp - lastEventTime.current < 500) {\n      e.preventDefault();\n      inputRef.current.focus();\n      return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var touch = e.changedTouches[0];\n    var centerX = Math.ceil(rect.left + .5 * rect.width);\n    var centerY = Math.ceil(rect.top + .5 * rect.height);\n    if (touch.clientX === centerX && touch.clientY === centerY) {\n      e.preventDefault();\n      inputRef.current.focus();\n      state.toggle(null, \"manual\");\n      lastEventTime.current = e.timeStamp;\n    }\n  };\n  var focusedItem = state.selectionManager.focusedKey != null && state.isOpen ? state.collection.getItem(state.selectionManager.focusedKey) : undefined;\n  var _focusedItem_parentKey;\n  var sectionKey = (_focusedItem_parentKey = focusedItem === null || focusedItem === void 0 ? void 0 : focusedItem.parentKey) !== null && _focusedItem_parentKey !== void 0 ? _focusedItem_parentKey : null;\n  var _state_selectionManager_focusedKey;\n  var itemKey = (_state_selectionManager_focusedKey = state.selectionManager.focusedKey) !== null && _state_selectionManager_focusedKey !== void 0 ? _state_selectionManager_focusedKey : null;\n  var lastSection = (0, $3yVy0$useRef)(sectionKey);\n  var lastItem = (0, $3yVy0$useRef)(itemKey);\n  (0, $3yVy0$useEffect)(function () {\n    if ((0, $3yVy0$isAppleDevice)() && focusedItem != null && itemKey !== lastItem.current) {\n      var isSelected = state.selectionManager.isSelected(itemKey);\n      var section = sectionKey != null ? state.collection.getItem(sectionKey) : null;\n      var sectionTitle = (section === null || section === void 0 ? void 0 : section[\"aria-label\"]) || (typeof (section === null || section === void 0 ? void 0 : section.rendered) === \"string\" ? section.rendered : \"\") || \"\";\n      var announcement = stringFormatter.format(\"focusAnnouncement\", {\n        isGroupChange: section && sectionKey !== lastSection.current,\n        groupTitle: sectionTitle,\n        groupCount: section ? _toConsumableArray((0, $3yVy0$getChildNodes)(section, state.collection)).length : 0,\n        optionText: focusedItem[\"aria-label\"] || focusedItem.textValue || \"\",\n        isSelected: isSelected\n      });\n      (0, $3yVy0$announce)(announcement);\n    }\n    lastSection.current = sectionKey;\n    lastItem.current = itemKey;\n  });\n  var optionCount = (0, $3yVy0$getItemCount)(state.collection);\n  var lastSize = (0, $3yVy0$useRef)(optionCount);\n  var lastOpen = (0, $3yVy0$useRef)(state.isOpen);\n  (0, $3yVy0$useEffect)(function () {\n    var didOpenWithoutFocusedItem = state.isOpen !== lastOpen.current && (state.selectionManager.focusedKey == null || (0, $3yVy0$isAppleDevice)());\n    if (state.isOpen && (didOpenWithoutFocusedItem || optionCount !== lastSize.current)) {\n      var announcement = stringFormatter.format(\"countAnnouncement\", {\n        optionCount: optionCount\n      });\n      (0, $3yVy0$announce)(announcement);\n    }\n    lastSize.current = optionCount;\n    lastOpen.current = state.isOpen;\n  });\n  var lastSelectedKey = (0, $3yVy0$useRef)(state.selectedKey);\n  (0, $3yVy0$useEffect)(function () {\n    if ((0, $3yVy0$isAppleDevice)() && state.isFocused && state.selectedItem && state.selectedKey !== lastSelectedKey.current) {\n      var optionText = state.selectedItem[\"aria-label\"] || state.selectedItem.textValue || \"\";\n      var announcement = stringFormatter.format(\"selectedAnnouncement\", {\n        optionText: optionText\n      });\n      (0, $3yVy0$announce)(announcement);\n    }\n    lastSelectedKey.current = state.selectedKey;\n  });\n  (0, $3yVy0$useEffect)(function () {\n    if (state.isOpen) return (0, $3yVy0$ariaHideOutside)([inputRef.current, popoverRef.current]);\n  }, [state.isOpen, inputRef, popoverRef]);\n  return {\n    labelProps: labelProps,\n    buttonProps: _objectSpread(_objectSpread(_objectSpread({}, menuTriggerProps), triggerLabelProps), {}, {\n      excludeFromTabOrder: true,\n      onPress: onPress,\n      onPressStart: onPressStart,\n      isDisabled: isDisabled || isReadOnly\n    }),\n    inputProps: (0, $3yVy0$mergeProps)(inputProps, {\n      role: \"combobox\",\n      \"aria-expanded\": menuTriggerProps[\"aria-expanded\"],\n      \"aria-controls\": state.isOpen ? menuProps.id : undefined,\n      \"aria-autocomplete\": \"list\",\n      \"aria-activedescendant\": focusedItem ? (0, $3yVy0$getItemId)(state, focusedItem.key) : undefined,\n      onTouchEnd: onTouchEnd,\n      autoCorrect: \"off\",\n      spellCheck: \"false\"\n    }),\n    listBoxProps: (0, $3yVy0$mergeProps)(menuProps, listBoxProps, {\n      autoFocus: state.focusStrategy,\n      shouldUseVirtualFocus: true,\n      shouldSelectOnPressUp: true,\n      shouldFocusOnHover: true,\n      linkBehavior: \"selection\"\n    }),\n    descriptionProps: descriptionProps,\n    errorMessageProps: errorMessageProps,\n    isInvalid: isInvalid,\n    validationErrors: validationErrors,\n    validationDetails: validationDetails\n  };\n}\nexport { $c350ade66beef0af$export$8c18d1b4f7232bbf as useComboBox };","map":{"version":3,"names":["$de5926a92e8ebc5b$exports","$02cb4c75c506befe$exports","$568b8163f1e56faf$exports","$87581c0202d106b8$exports","$a10a0369f5433ed1$exports","$bfd288727d5cb166$exports","$ca177778f9a74e3c$exports","$9b5aa79ef84beb6c$exports","$57968e8209de2557$exports","$60690790bf4c1c6a$exports","$1101246e8c7d9357$exports","$6404b5cb5b241730$exports","$dfeafa702e92e31f$exports","$2d125e0b34676352$exports","$ea029611d7634059$exports","$77f075bb86ad7091$exports","$6e87462e84907983$exports","$9246f2c6edc6b232$exports","$e587accc6c0a434c$exports","$03a1900e7400b5ab$exports","$1387676441be6cf6$exports","$17e82ebf0f8ab91f$exports","$2f5377d3471630e5$exports","$dee9868b6fa95ffe$exports","$f8b2e63637cbb5a6$exports","$46a885db3b44ea95$exports","$50d8a8f0afa9dee5$exports","$2867ee6173245507$exports","$0631b65beeb09b50$exports","$65fc749265dcd686$exports","$69ba655c7853c08e$exports","$a79794784d61577c$exports","$c2845791417ebaf4$exports","$29b642d0025cc7a4$exports","$cd36dd33f9d46936$exports","$c350ade66beef0af$export$8c18d1b4f7232bbf","props","state","buttonRef","popoverRef","inputRef","listBoxRef","keyboardDelegate","shouldFocusWrap","isReadOnly","isDisabled","stringFormatter","$3yVy0$useLocalizedStringFormatter","$parcel$interopDefault","_ref","$3yVy0$useMenuTrigger","type","menuTriggerProps","menuProps","$3yVy0$listData","set","id","delegate","$3yVy0$useMemo","$3yVy0$ListKeyboardDelegate","collection","disabledKeys","_ref2","$3yVy0$useSelectableCollection","selectionManager","disallowTypeAhead","disallowEmptySelection","ref","isVirtualized","collectionProps","router","$3yVy0$useRouter","onKeyDown","e","key","isOpen","preventDefault","focusedKey","isLink","item","current","querySelector","CSS","escape","toString","HTMLAnchorElement","open","close","commit","selectedKey","inputValue","allowsCustomValue","continuePropagation","revert","setFocusedKey","onBlur","_popoverRef_current","relatedTarget","contains","setFocused","onFocus","isFocused","_state$displayValidat","displayValidation","isInvalid","validationErrors","validationDetails","_ref3","$3yVy0$useTextField","_objectSpread","_defineProperty","onChange","setInputValue","$3yVy0$chain","value","autoComplete","validate","undefined","$3yVy0$privateValidationStateProp","labelProps","inputProps","descriptionProps","errorMessageProps","onPress","pointerType","focus","toggle","onPressStart","triggerLabelProps","$3yVy0$useLabels","format","listBoxProps","lastEventTime","$3yVy0$useRef","onTouchEnd","timeStamp","rect","target","getBoundingClientRect","touch","changedTouches","centerX","Math","ceil","left","width","centerY","top","height","clientX","clientY","focusedItem","getItem","_focusedItem_parentKey","sectionKey","parentKey","_state_selectionManager_focusedKey","itemKey","lastSection","lastItem","$3yVy0$useEffect","$3yVy0$isAppleDevice","isSelected","section","sectionTitle","rendered","announcement","isGroupChange","groupTitle","groupCount","_toConsumableArray","$3yVy0$getChildNodes","length","optionText","textValue","$3yVy0$announce","optionCount","$3yVy0$getItemCount","lastSize","lastOpen","didOpenWithoutFocusedItem","lastSelectedKey","selectedItem","$3yVy0$ariaHideOutside","buttonProps","excludeFromTabOrder","$3yVy0$mergeProps","role","$3yVy0$getItemId","autoCorrect","spellCheck","autoFocus","focusStrategy","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","linkBehavior"],"sources":["/Users/bellacristsantos/Downloads/codeworks/luster/luster/node_modules/@react-aria/combobox/dist/packages/@react-aria/combobox/src/index.ts","/Users/bellacristsantos/Downloads/codeworks/luster/luster/node_modules/@react-aria/combobox/dist/packages/@react-aria/combobox/src/useComboBox.ts","/Users/bellacristsantos/Downloads/codeworks/luster/luster/node_modules/@react-aria/combobox/dist/packages/@react-aria/combobox/src/*.js"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {useComboBox} from './useComboBox';\nexport type {AriaComboBoxOptions, ComboBoxAria} from './useComboBox';\nexport type {AriaComboBoxProps} from '@react-types/combobox';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {announce} from '@react-aria/live-announcer';\nimport {AriaButtonProps} from '@react-types/button';\nimport {AriaComboBoxProps} from '@react-types/combobox';\nimport {ariaHideOutside} from '@react-aria/overlays';\nimport {AriaListBoxOptions, getItemId, listData} from '@react-aria/listbox';\nimport {BaseEvent, DOMAttributes, KeyboardDelegate, PressEvent, ValidationResult} from '@react-types/shared';\nimport {chain, isAppleDevice, mergeProps, useLabels, useRouter} from '@react-aria/utils';\nimport {ComboBoxState} from '@react-stately/combobox';\nimport {FocusEvent, InputHTMLAttributes, KeyboardEvent, RefObject, TouchEvent, useEffect, useMemo, useRef} from 'react';\nimport {getChildNodes, getItemCount} from '@react-stately/collections';\n// @ts-ignore\nimport intlMessages from '../intl/*.json';\nimport {ListKeyboardDelegate, useSelectableCollection} from '@react-aria/selection';\nimport {privateValidationStateProp} from '@react-stately/form';\nimport {useLocalizedStringFormatter} from '@react-aria/i18n';\nimport {useMenuTrigger} from '@react-aria/menu';\nimport {useTextField} from '@react-aria/textfield';\n\nexport interface AriaComboBoxOptions<T> extends Omit<AriaComboBoxProps<T>, 'children'> {\n  /** The ref for the input element. */\n  inputRef: RefObject<HTMLInputElement>,\n  /** The ref for the list box popover. */\n  popoverRef: RefObject<Element>,\n  /** The ref for the list box. */\n  listBoxRef: RefObject<HTMLElement>,\n  /** The ref for the optional list box popup trigger button.  */\n  buttonRef?: RefObject<Element>,\n  /** An optional keyboard delegate implementation, to override the default. */\n  keyboardDelegate?: KeyboardDelegate\n}\n\nexport interface ComboBoxAria<T> extends ValidationResult {\n  /** Props for the label element. */\n  labelProps: DOMAttributes,\n  /** Props for the combo box input element. */\n  inputProps: InputHTMLAttributes<HTMLInputElement>,\n  /** Props for the list box, to be passed to [useListBox](useListBox.html). */\n  listBoxProps: AriaListBoxOptions<T>,\n  /** Props for the optional trigger button, to be passed to [useButton](useButton.html). */\n  buttonProps: AriaButtonProps,\n  /** Props for the combo box description element, if any. */\n  descriptionProps: DOMAttributes,\n  /** Props for the combo box error message element, if any. */\n  errorMessageProps: DOMAttributes\n}\n\n/**\n * Provides the behavior and accessibility implementation for a combo box component.\n * A combo box combines a text input with a listbox, allowing users to filter a list of options to items matching a query.\n * @param props - Props for the combo box.\n * @param state - State for the select, as returned by `useComboBoxState`.\n */\nexport function useComboBox<T>(props: AriaComboBoxOptions<T>, state: ComboBoxState<T>): ComboBoxAria<T> {\n  let {\n    buttonRef,\n    popoverRef,\n    inputRef,\n    listBoxRef,\n    keyboardDelegate,\n    // completionMode = 'suggest',\n    shouldFocusWrap,\n    isReadOnly,\n    isDisabled\n  } = props;\n\n  let stringFormatter = useLocalizedStringFormatter(intlMessages, '@react-aria/combobox');\n  let {menuTriggerProps, menuProps} = useMenuTrigger<T>(\n    {\n      type: 'listbox',\n      isDisabled: isDisabled || isReadOnly\n    },\n    state,\n    buttonRef\n  );\n\n  // Set listbox id so it can be used when calling getItemId later\n  listData.set(state, {id: menuProps.id});\n\n  // By default, a KeyboardDelegate is provided which uses the DOM to query layout information (e.g. for page up/page down).\n  // When virtualized, the layout object will be passed in as a prop and override this.\n  let delegate = useMemo(() =>\n    keyboardDelegate ||\n    new ListKeyboardDelegate(state.collection, state.disabledKeys, listBoxRef)\n  , [keyboardDelegate, state.collection, state.disabledKeys, listBoxRef]);\n\n  // Use useSelectableCollection to get the keyboard handlers to apply to the textfield\n  let {collectionProps} = useSelectableCollection({\n    selectionManager: state.selectionManager,\n    keyboardDelegate: delegate,\n    disallowTypeAhead: true,\n    disallowEmptySelection: true,\n    shouldFocusWrap,\n    ref: inputRef,\n    // Prevent item scroll behavior from being applied here, should be handled in the user's Popover + ListBox component\n    isVirtualized: true\n  });\n\n  let router = useRouter();\n\n  // For textfield specific keydown operations\n  let onKeyDown = (e: BaseEvent<KeyboardEvent<any>>) => {\n    switch (e.key) {\n      case 'Enter':\n      case 'Tab':\n        // Prevent form submission if menu is open since we may be selecting a option\n        if (state.isOpen && e.key === 'Enter') {\n          e.preventDefault();\n        }\n\n        // If the focused item is a link, trigger opening it. Items that are links are not selectable.\n        if (state.isOpen && state.selectionManager.focusedKey != null && state.selectionManager.isLink(state.selectionManager.focusedKey)) {\n          if (e.key === 'Enter') {\n            let item = listBoxRef.current.querySelector(`[data-key=\"${CSS.escape(state.selectionManager.focusedKey.toString())}\"]`);\n            if (item instanceof HTMLAnchorElement) {\n              router.open(item, e);\n            }\n          }\n\n          state.close();\n        } else {\n          state.commit();\n        }\n        break;\n      case 'Escape':\n        if (\n          state.selectedKey !== null ||\n          state.inputValue === '' ||\n          props.allowsCustomValue\n        ) {\n          e.continuePropagation();\n        }\n        state.revert();\n        break;\n      case 'ArrowDown':\n        state.open('first', 'manual');\n        break;\n      case 'ArrowUp':\n        state.open('last', 'manual');\n        break;\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        state.selectionManager.setFocusedKey(null);\n        break;\n    }\n  };\n\n  let onBlur = (e: FocusEvent<HTMLInputElement>) => {\n    // Ignore blur if focused moved to the button or into the popover.\n    if (e.relatedTarget === buttonRef?.current || popoverRef.current?.contains(e.relatedTarget)) {\n      return;\n    }\n\n    if (props.onBlur) {\n      props.onBlur(e);\n    }\n\n    state.setFocused(false);\n  };\n\n  let onFocus = (e: FocusEvent<HTMLInputElement>) => {\n    if (state.isFocused) {\n      return;\n    }\n\n    if (props.onFocus) {\n      props.onFocus(e);\n    }\n\n    state.setFocused(true);\n  };\n\n  let {isInvalid, validationErrors, validationDetails} = state.displayValidation;\n  let {labelProps, inputProps, descriptionProps, errorMessageProps} = useTextField({\n    ...props,\n    onChange: state.setInputValue,\n    onKeyDown: !isReadOnly ? chain(state.isOpen && collectionProps.onKeyDown, onKeyDown, props.onKeyDown) : props.onKeyDown,\n    onBlur,\n    value: state.inputValue,\n    onFocus,\n    autoComplete: 'off',\n    validate: undefined,\n    [privateValidationStateProp]: state\n  }, inputRef);\n\n  // Press handlers for the ComboBox button\n  let onPress = (e: PressEvent) => {\n    if (e.pointerType === 'touch') {\n      // Focus the input field in case it isn't focused yet\n      inputRef.current.focus();\n      state.toggle(null, 'manual');\n    }\n  };\n\n  let onPressStart = (e: PressEvent) => {\n    if (e.pointerType !== 'touch') {\n      inputRef.current.focus();\n      state.toggle((e.pointerType === 'keyboard' || e.pointerType === 'virtual') ? 'first' : null, 'manual');\n    }\n  };\n\n  let triggerLabelProps = useLabels({\n    id: menuTriggerProps.id,\n    'aria-label': stringFormatter.format('buttonLabel'),\n    'aria-labelledby': props['aria-labelledby'] || labelProps.id\n  });\n\n  let listBoxProps = useLabels({\n    id: menuProps.id,\n    'aria-label': stringFormatter.format('listboxLabel'),\n    'aria-labelledby': props['aria-labelledby'] || labelProps.id\n  });\n\n  // If a touch happens on direct center of ComboBox input, might be virtual click from iPad so open ComboBox menu\n  let lastEventTime = useRef(0);\n  let onTouchEnd = (e: TouchEvent) => {\n    if (isDisabled || isReadOnly) {\n      return;\n    }\n\n    // Sometimes VoiceOver on iOS fires two touchend events in quick succession. Ignore the second one.\n    if (e.timeStamp - lastEventTime.current < 500) {\n      e.preventDefault();\n      inputRef.current.focus();\n      return;\n    }\n\n    let rect = (e.target as Element).getBoundingClientRect();\n    let touch = e.changedTouches[0];\n\n    let centerX = Math.ceil(rect.left + .5 * rect.width);\n    let centerY = Math.ceil(rect.top + .5 * rect.height);\n\n    if (touch.clientX === centerX && touch.clientY === centerY) {\n      e.preventDefault();\n      inputRef.current.focus();\n      state.toggle(null, 'manual');\n\n      lastEventTime.current = e.timeStamp;\n    }\n  };\n\n  // VoiceOver has issues with announcing aria-activedescendant properly on change\n  // (especially on iOS). We use a live region announcer to announce focus changes\n  // manually. In addition, section titles are announced when navigating into a new section.\n  let focusedItem = state.selectionManager.focusedKey != null && state.isOpen\n    ? state.collection.getItem(state.selectionManager.focusedKey)\n    : undefined;\n  let sectionKey = focusedItem?.parentKey ?? null;\n  let itemKey = state.selectionManager.focusedKey ?? null;\n  let lastSection = useRef(sectionKey);\n  let lastItem = useRef(itemKey);\n  useEffect(() => {\n    if (isAppleDevice() && focusedItem != null && itemKey !== lastItem.current) {\n      let isSelected = state.selectionManager.isSelected(itemKey);\n      let section = sectionKey != null ? state.collection.getItem(sectionKey) : null;\n      let sectionTitle = section?.['aria-label'] || (typeof section?.rendered === 'string' ? section.rendered : '') || '';\n\n      let announcement = stringFormatter.format('focusAnnouncement', {\n        isGroupChange: section && sectionKey !== lastSection.current,\n        groupTitle: sectionTitle,\n        groupCount: section ? [...getChildNodes(section, state.collection)].length : 0,\n        optionText: focusedItem['aria-label'] || focusedItem.textValue || '',\n        isSelected\n      });\n\n      announce(announcement);\n    }\n\n    lastSection.current = sectionKey;\n    lastItem.current = itemKey;\n  });\n\n  // Announce the number of available suggestions when it changes\n  let optionCount = getItemCount(state.collection);\n  let lastSize = useRef(optionCount);\n  let lastOpen = useRef(state.isOpen);\n  useEffect(() => {\n    // Only announce the number of options available when the menu opens if there is no\n    // focused item, otherwise screen readers will typically read e.g. \"1 of 6\".\n    // The exception is VoiceOver since this isn't included in the message above.\n    let didOpenWithoutFocusedItem =\n      state.isOpen !== lastOpen.current &&\n      (state.selectionManager.focusedKey == null || isAppleDevice());\n\n    if (state.isOpen && (didOpenWithoutFocusedItem || optionCount !== lastSize.current)) {\n      let announcement = stringFormatter.format('countAnnouncement', {optionCount});\n      announce(announcement);\n    }\n\n    lastSize.current = optionCount;\n    lastOpen.current = state.isOpen;\n  });\n\n  // Announce when a selection occurs for VoiceOver. Other screen readers typically do this automatically.\n  let lastSelectedKey = useRef(state.selectedKey);\n  useEffect(() => {\n    if (isAppleDevice() && state.isFocused && state.selectedItem && state.selectedKey !== lastSelectedKey.current) {\n      let optionText = state.selectedItem['aria-label'] || state.selectedItem.textValue || '';\n      let announcement = stringFormatter.format('selectedAnnouncement', {optionText});\n      announce(announcement);\n    }\n\n    lastSelectedKey.current = state.selectedKey;\n  });\n\n  useEffect(() => {\n    if (state.isOpen) {\n      return ariaHideOutside([inputRef.current, popoverRef.current]);\n    }\n  }, [state.isOpen, inputRef, popoverRef]);\n\n  return {\n    labelProps,\n    buttonProps: {\n      ...menuTriggerProps,\n      ...triggerLabelProps,\n      excludeFromTabOrder: true,\n      onPress,\n      onPressStart,\n      isDisabled: isDisabled || isReadOnly\n    },\n    inputProps: mergeProps(inputProps, {\n      role: 'combobox',\n      'aria-expanded': menuTriggerProps['aria-expanded'],\n      'aria-controls': state.isOpen ? menuProps.id : undefined,\n      // TODO: readd proper logic for completionMode = complete (aria-autocomplete: both)\n      'aria-autocomplete': 'list',\n      'aria-activedescendant': focusedItem ? getItemId(state, focusedItem.key) : undefined,\n      onTouchEnd,\n      // This disable's iOS's autocorrect suggestions, since the combo box provides its own suggestions.\n      autoCorrect: 'off',\n      // This disable's the macOS Safari spell check auto corrections.\n      spellCheck: 'false'\n    }),\n    listBoxProps: mergeProps(menuProps, listBoxProps, {\n      autoFocus: state.focusStrategy,\n      shouldUseVirtualFocus: true,\n      shouldSelectOnPressUp: true,\n      shouldFocusOnHover: true,\n      linkBehavior: 'selection' as const\n    }),\n    descriptionProps,\n    errorMessageProps,\n    isInvalid,\n    validationErrors,\n    validationDetails\n  };\n}\n","const _temp0 = require(\"../intl/ar-AE.json\");\nconst _temp1 = require(\"../intl/bg-BG.json\");\nconst _temp2 = require(\"../intl/cs-CZ.json\");\nconst _temp3 = require(\"../intl/da-DK.json\");\nconst _temp4 = require(\"../intl/de-DE.json\");\nconst _temp5 = require(\"../intl/el-GR.json\");\nconst _temp6 = require(\"../intl/en-US.json\");\nconst _temp7 = require(\"../intl/es-ES.json\");\nconst _temp8 = require(\"../intl/et-EE.json\");\nconst _temp9 = require(\"../intl/fi-FI.json\");\nconst _temp10 = require(\"../intl/fr-FR.json\");\nconst _temp11 = require(\"../intl/he-IL.json\");\nconst _temp12 = require(\"../intl/hr-HR.json\");\nconst _temp13 = require(\"../intl/hu-HU.json\");\nconst _temp14 = require(\"../intl/it-IT.json\");\nconst _temp15 = require(\"../intl/ja-JP.json\");\nconst _temp16 = require(\"../intl/ko-KR.json\");\nconst _temp17 = require(\"../intl/lt-LT.json\");\nconst _temp18 = require(\"../intl/lv-LV.json\");\nconst _temp19 = require(\"../intl/nb-NO.json\");\nconst _temp20 = require(\"../intl/nl-NL.json\");\nconst _temp21 = require(\"../intl/pl-PL.json\");\nconst _temp22 = require(\"../intl/pt-BR.json\");\nconst _temp23 = require(\"../intl/pt-PT.json\");\nconst _temp24 = require(\"../intl/ro-RO.json\");\nconst _temp25 = require(\"../intl/ru-RU.json\");\nconst _temp26 = require(\"../intl/sk-SK.json\");\nconst _temp27 = require(\"../intl/sl-SI.json\");\nconst _temp28 = require(\"../intl/sr-SP.json\");\nconst _temp29 = require(\"../intl/sv-SE.json\");\nconst _temp30 = require(\"../intl/tr-TR.json\");\nconst _temp31 = require(\"../intl/uk-UA.json\");\nconst _temp32 = require(\"../intl/zh-CN.json\");\nconst _temp33 = require(\"../intl/zh-TW.json\");\nmodule.exports = {\n  \"ar-AE\": _temp0,\n  \"bg-BG\": _temp1,\n  \"cs-CZ\": _temp2,\n  \"da-DK\": _temp3,\n  \"de-DE\": _temp4,\n  \"el-GR\": _temp5,\n  \"en-US\": _temp6,\n  \"es-ES\": _temp7,\n  \"et-EE\": _temp8,\n  \"fi-FI\": _temp9,\n  \"fr-FR\": _temp10,\n  \"he-IL\": _temp11,\n  \"hr-HR\": _temp12,\n  \"hu-HU\": _temp13,\n  \"it-IT\": _temp14,\n  \"ja-JP\": _temp15,\n  \"ko-KR\": _temp16,\n  \"lt-LT\": _temp17,\n  \"lv-LV\": _temp18,\n  \"nb-NO\": _temp19,\n  \"nl-NL\": _temp20,\n  \"pl-PL\": _temp21,\n  \"pt-BR\": _temp22,\n  \"pt-PT\": _temp23,\n  \"ro-RO\": _temp24,\n  \"ru-RU\": _temp25,\n  \"sk-SK\": _temp26,\n  \"sl-SI\": _temp27,\n  \"sr-SP\": _temp28,\n  \"sv-SE\": _temp29,\n  \"tr-TR\": _temp30,\n  \"uk-UA\": _temp31,\n  \"zh-CN\": _temp32,\n  \"zh-TW\": _temp33\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}