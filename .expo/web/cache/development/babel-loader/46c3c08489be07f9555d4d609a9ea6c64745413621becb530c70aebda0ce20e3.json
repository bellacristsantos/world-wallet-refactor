{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"labelProps\", \"inputProps\", \"descriptionProps\", \"errorMessageProps\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useEffect as $kOq5K$useEffect, useRef as $kOq5K$useRef } from \"react\";\nimport { filterDOMProps as $kOq5K$filterDOMProps, useFormReset as $kOq5K$useFormReset, getOwnerWindow as $kOq5K$getOwnerWindow, mergeProps as $kOq5K$mergeProps, useEffectEvent as $kOq5K$useEffectEvent } from \"@react-aria/utils\";\nimport { useControlledState as $kOq5K$useControlledState } from \"@react-stately/utils\";\nimport { useField as $kOq5K$useField } from \"@react-aria/label\";\nimport { useFocusable as $kOq5K$useFocusable } from \"@react-aria/focus\";\nimport { useFormValidation as $kOq5K$useFormValidation } from \"@react-aria/form\";\nimport { useFormValidationState as $kOq5K$useFormValidationState } from \"@react-stately/form\";\nfunction $2d73ec29415bd339$export$712718f7aec83d5(props, ref) {\n  var _props$inputElementTy = props.inputElementType,\n    inputElementType = _props$inputElementTy === void 0 ? \"input\" : _props$inputElementTy,\n    _props$isDisabled = props.isDisabled,\n    isDisabled = _props$isDisabled === void 0 ? false : _props$isDisabled,\n    _props$isRequired = props.isRequired,\n    isRequired = _props$isRequired === void 0 ? false : _props$isRequired,\n    _props$isReadOnly = props.isReadOnly,\n    isReadOnly = _props$isReadOnly === void 0 ? false : _props$isReadOnly,\n    _props$type = props.type,\n    type = _props$type === void 0 ? \"text\" : _props$type,\n    _props$validationBeha = props.validationBehavior,\n    validationBehavior = _props$validationBeha === void 0 ? \"aria\" : _props$validationBeha;\n  var _ref = (0, $kOq5K$useControlledState)(props.value, props.defaultValue || \"\", props.onChange),\n    _ref2 = _slicedToArray(_ref, 2),\n    value = _ref2[0],\n    setValue = _ref2[1];\n  var _ref3 = (0, $kOq5K$useFocusable)(props, ref),\n    focusableProps = _ref3.focusableProps;\n  var validationState = (0, $kOq5K$useFormValidationState)(_objectSpread(_objectSpread({}, props), {}, {\n    value: value\n  }));\n  var _validationState$disp = validationState.displayValidation,\n    isInvalid = _validationState$disp.isInvalid,\n    validationErrors = _validationState$disp.validationErrors,\n    validationDetails = _validationState$disp.validationDetails;\n  var _ref4 = (0, $kOq5K$useField)(_objectSpread(_objectSpread({}, props), {}, {\n      isInvalid: isInvalid,\n      errorMessage: props.errorMessage || validationErrors\n    })),\n    labelProps = _ref4.labelProps,\n    fieldProps = _ref4.fieldProps,\n    descriptionProps = _ref4.descriptionProps,\n    errorMessageProps = _ref4.errorMessageProps;\n  var domProps = (0, $kOq5K$filterDOMProps)(props, {\n    labelable: true\n  });\n  var inputOnlyProps = {\n    type: type,\n    pattern: props.pattern\n  };\n  (0, $kOq5K$useFormReset)(ref, value, setValue);\n  (0, $kOq5K$useFormValidation)(props, validationState, ref);\n  (0, $kOq5K$useEffect)(function () {\n    if (ref.current instanceof (0, $kOq5K$getOwnerWindow)(ref.current).HTMLTextAreaElement) {\n      var input = ref.current;\n      Object.defineProperty(input, \"defaultValue\", {\n        get: function get() {\n          return input.value;\n        },\n        set: function set() {},\n        configurable: true\n      });\n    }\n  }, [ref]);\n  return {\n    labelProps: labelProps,\n    inputProps: (0, $kOq5K$mergeProps)(domProps, inputElementType === \"input\" && inputOnlyProps, _objectSpread(_objectSpread({\n      disabled: isDisabled,\n      readOnly: isReadOnly,\n      required: isRequired && validationBehavior === \"native\",\n      \"aria-required\": isRequired && validationBehavior === \"aria\" || undefined,\n      \"aria-invalid\": isInvalid || undefined,\n      \"aria-errormessage\": props[\"aria-errormessage\"],\n      \"aria-activedescendant\": props[\"aria-activedescendant\"],\n      \"aria-autocomplete\": props[\"aria-autocomplete\"],\n      \"aria-haspopup\": props[\"aria-haspopup\"],\n      value: value,\n      onChange: function onChange(e) {\n        return setValue(e.target.value);\n      },\n      autoComplete: props.autoComplete,\n      autoCapitalize: props.autoCapitalize,\n      maxLength: props.maxLength,\n      minLength: props.minLength,\n      name: props.name,\n      placeholder: props.placeholder,\n      inputMode: props.inputMode,\n      onCopy: props.onCopy,\n      onCut: props.onCut,\n      onPaste: props.onPaste,\n      onCompositionEnd: props.onCompositionEnd,\n      onCompositionStart: props.onCompositionStart,\n      onCompositionUpdate: props.onCompositionUpdate,\n      onSelect: props.onSelect,\n      onBeforeInput: props.onBeforeInput,\n      onInput: props.onInput\n    }, focusableProps), fieldProps)),\n    descriptionProps: descriptionProps,\n    errorMessageProps: errorMessageProps,\n    isInvalid: isInvalid,\n    validationErrors: validationErrors,\n    validationDetails: validationDetails\n  };\n}\nfunction $d841c8010a73d545$var$supportsNativeBeforeInputEvent() {\n  return typeof window !== \"undefined\" && window.InputEvent && typeof InputEvent.prototype.getTargetRanges === \"function\";\n}\nfunction $d841c8010a73d545$export$4f384c9210e583c3(props, state, inputRef) {\n  var onBeforeInputFallback = (0, $kOq5K$useEffectEvent)(function (e) {\n    var input = inputRef.current;\n    var nextValue;\n    switch (e.inputType) {\n      case \"historyUndo\":\n      case \"historyRedo\":\n        return;\n      case \"deleteContent\":\n      case \"deleteByCut\":\n      case \"deleteByDrag\":\n        nextValue = input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd);\n        break;\n      case \"deleteContentForward\":\n        nextValue = input.selectionEnd === input.selectionStart ? input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd + 1) : input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd);\n        break;\n      case \"deleteContentBackward\":\n        nextValue = input.selectionEnd === input.selectionStart ? input.value.slice(0, input.selectionStart - 1) + input.value.slice(input.selectionStart) : input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd);\n        break;\n      case \"deleteSoftLineBackward\":\n      case \"deleteHardLineBackward\":\n        nextValue = input.value.slice(input.selectionStart);\n        break;\n      default:\n        if (e.data != null) nextValue = input.value.slice(0, input.selectionStart) + e.data + input.value.slice(input.selectionEnd);\n        break;\n    }\n    if (nextValue == null || !state.validate(nextValue)) e.preventDefault();\n  });\n  (0, $kOq5K$useEffect)(function () {\n    if (!$d841c8010a73d545$var$supportsNativeBeforeInputEvent()) return;\n    var input = inputRef.current;\n    input.addEventListener(\"beforeinput\", onBeforeInputFallback, false);\n    return function () {\n      input.removeEventListener(\"beforeinput\", onBeforeInputFallback, false);\n    };\n  }, [inputRef, onBeforeInputFallback]);\n  var onBeforeInput = !$d841c8010a73d545$var$supportsNativeBeforeInputEvent() ? function (e) {\n    var nextValue = e.target.value.slice(0, e.target.selectionStart) + e.data + e.target.value.slice(e.target.selectionEnd);\n    if (!state.validate(nextValue)) e.preventDefault();\n  } : null;\n  var _ref5 = (0, $2d73ec29415bd339$export$712718f7aec83d5)(props, inputRef),\n    labelProps = _ref5.labelProps,\n    textFieldProps = _ref5.inputProps,\n    descriptionProps = _ref5.descriptionProps,\n    errorMessageProps = _ref5.errorMessageProps,\n    validation = _objectWithoutProperties(_ref5, _excluded);\n  var compositionStartState = (0, $kOq5K$useRef)(null);\n  return _objectSpread({\n    inputProps: (0, $kOq5K$mergeProps)(textFieldProps, {\n      onBeforeInput: onBeforeInput,\n      onCompositionStart: function onCompositionStart() {\n        var _inputRef$current = inputRef.current,\n          value = _inputRef$current.value,\n          selectionStart = _inputRef$current.selectionStart,\n          selectionEnd = _inputRef$current.selectionEnd;\n        compositionStartState.current = {\n          value: value,\n          selectionStart: selectionStart,\n          selectionEnd: selectionEnd\n        };\n      },\n      onCompositionEnd: function onCompositionEnd() {\n        if (!state.validate(inputRef.current.value)) {\n          var _compositionStartStat = compositionStartState.current,\n            value = _compositionStartStat.value,\n            selectionStart = _compositionStartStat.selectionStart,\n            selectionEnd = _compositionStartStat.selectionEnd;\n          inputRef.current.value = value;\n          inputRef.current.setSelectionRange(selectionStart, selectionEnd);\n          state.setInputValue(value);\n        }\n      }\n    }),\n    labelProps: labelProps,\n    descriptionProps: descriptionProps,\n    errorMessageProps: errorMessageProps\n  }, validation);\n}\nexport { $2d73ec29415bd339$export$712718f7aec83d5 as useTextField, $d841c8010a73d545$export$4f384c9210e583c3 as useFormattedTextField };","map":{"version":3,"names":["$2d73ec29415bd339$export$712718f7aec83d5","props","ref","_props$inputElementTy","inputElementType","_props$isDisabled","isDisabled","_props$isRequired","isRequired","_props$isReadOnly","isReadOnly","_props$type","type","_props$validationBeha","validationBehavior","_ref","$kOq5K$useControlledState","value","defaultValue","onChange","_ref2","_slicedToArray","setValue","_ref3","$kOq5K$useFocusable","focusableProps","validationState","$kOq5K$useFormValidationState","_objectSpread","_validationState$disp","displayValidation","isInvalid","validationErrors","validationDetails","_ref4","$kOq5K$useField","errorMessage","labelProps","fieldProps","descriptionProps","errorMessageProps","domProps","$kOq5K$filterDOMProps","labelable","inputOnlyProps","pattern","$kOq5K$useFormReset","$kOq5K$useFormValidation","$kOq5K$useEffect","current","$kOq5K$getOwnerWindow","HTMLTextAreaElement","input","Object","defineProperty","get","set","configurable","inputProps","$kOq5K$mergeProps","disabled","readOnly","required","undefined","e","target","autoComplete","autoCapitalize","maxLength","minLength","name","placeholder","inputMode","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onSelect","onBeforeInput","onInput","$d841c8010a73d545$var$supportsNativeBeforeInputEvent","window","InputEvent","prototype","getTargetRanges","$d841c8010a73d545$export$4f384c9210e583c3","state","inputRef","onBeforeInputFallback","$kOq5K$useEffectEvent","nextValue","inputType","slice","selectionStart","selectionEnd","data","validate","preventDefault","addEventListener","removeEventListener","_ref5","textFieldProps","validation","_objectWithoutProperties","_excluded","compositionStartState","$kOq5K$useRef","_inputRef$current","_compositionStartStat","setSelectionRange","setInputValue"],"sources":["/Users/bellacristsantos/Downloads/codeworks/luster/luster/node_modules/@react-aria/textfield/dist/packages/@react-aria/textfield/src/index.ts","/Users/bellacristsantos/Downloads/codeworks/luster/luster/node_modules/@react-aria/textfield/dist/packages/@react-aria/textfield/src/useTextField.ts","/Users/bellacristsantos/Downloads/codeworks/luster/luster/node_modules/@react-aria/textfield/dist/packages/@react-aria/textfield/src/useFormattedTextField.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport type {TextFieldAria} from './useTextField';\nexport {useTextField} from './useTextField';\nexport {useFormattedTextField} from './useFormattedTextField';\nexport type {AriaTextFieldOptions} from './useTextField';\nexport type {AriaTextFieldProps} from '@react-types/textfield';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaTextFieldProps} from '@react-types/textfield';\nimport {\n  ChangeEvent,\n  DOMFactory,\n  HTMLAttributes,\n  LabelHTMLAttributes,\n  ReactDOM,\n  RefObject,\n  useEffect\n} from 'react';\nimport {DOMAttributes, ValidationResult} from '@react-types/shared';\nimport {filterDOMProps, getOwnerWindow, mergeProps, useFormReset} from '@react-aria/utils';\nimport {useControlledState} from '@react-stately/utils';\nimport {useField} from '@react-aria/label';\nimport {useFocusable} from '@react-aria/focus';\nimport {useFormValidation} from '@react-aria/form';\nimport {useFormValidationState} from '@react-stately/form';\n\n/**\n * A map of HTML element names and their interface types.\n * For example `'a'` -> `HTMLAnchorElement`.\n */\ntype IntrinsicHTMLElements = {\n  [K in keyof IntrinsicHTMLAttributes]: IntrinsicHTMLAttributes[K] extends HTMLAttributes<infer T> ? T : never\n};\n\n/**\n * A map of HTML element names and their attribute interface types.\n * For example `'a'` -> `AnchorHTMLAttributes<HTMLAnchorElement>`.\n */\ntype IntrinsicHTMLAttributes = {\n  [K in keyof ReactDOM]: ReactDOM[K] extends DOMFactory<infer T, any> ? T : never\n};\n\ntype DefaultElementType = 'input';\n\n/**\n * The intrinsic HTML element names that `useTextField` supports; e.g. `input`,\n * `textarea`.\n */\ntype TextFieldIntrinsicElements = keyof Pick<IntrinsicHTMLElements, 'input' | 'textarea'>;\n\n/**\n * The HTML element interfaces that `useTextField` supports based on what is\n * defined for `TextFieldIntrinsicElements`; e.g. `HTMLInputElement`,\n * `HTMLTextAreaElement`.\n */\ntype TextFieldHTMLElementType = Pick<IntrinsicHTMLElements, TextFieldIntrinsicElements>;\n\n/**\n * The HTML attributes interfaces that `useTextField` supports based on what\n * is defined for `TextFieldIntrinsicElements`; e.g. `InputHTMLAttributes`,\n * `TextareaHTMLAttributes`.\n */\ntype TextFieldHTMLAttributesType = Pick<IntrinsicHTMLAttributes, TextFieldIntrinsicElements>;\n\n/**\n * The type of `inputProps` returned by `useTextField`; e.g. `InputHTMLAttributes`,\n * `TextareaHTMLAttributes`.\n */\ntype TextFieldInputProps<T extends TextFieldIntrinsicElements> = TextFieldHTMLAttributesType[T];\n\nexport interface AriaTextFieldOptions<T extends TextFieldIntrinsicElements> extends AriaTextFieldProps {\n  /**\n   * The HTML element used to render the input, e.g. 'input', or 'textarea'.\n   * It determines whether certain HTML attributes will be included in `inputProps`.\n   * For example, [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type).\n   * @default 'input'\n   */\n  inputElementType?: T,\n  /**\n   * A nonstandard attribute used by iOS Safari that controls how textual form elements should be automatically capitalized.\n   * See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#autocapitalize).\n   */\n  autoCapitalize?: 'off' | 'none' | 'on' | 'sentences' | 'words' | 'characters'\n}\n\n/**\n * The type of `ref` object that can be passed to `useTextField` based on the given\n * intrinsic HTML element name; e.g.`RefObject<HTMLInputElement>`,\n * `RefObject<HTMLTextAreaElement>`.\n */\ntype TextFieldRefObject<T extends TextFieldIntrinsicElements> = RefObject<TextFieldHTMLElementType[T]>;\n\nexport interface TextFieldAria<T extends TextFieldIntrinsicElements = DefaultElementType> extends ValidationResult {\n  /** Props for the input element. */\n  inputProps: TextFieldInputProps<T>,\n  /** Props for the text field's visible label element, if any. */\n  labelProps: DOMAttributes | LabelHTMLAttributes<HTMLLabelElement>,\n  /** Props for the text field's description element, if any. */\n  descriptionProps: DOMAttributes,\n  /** Props for the text field's error message element, if any. */\n  errorMessageProps: DOMAttributes\n}\n\n/**\n * Provides the behavior and accessibility implementation for a text field.\n * @param props - Props for the text field.\n * @param ref - Ref to the HTML input or textarea element.\n */\nexport function useTextField<T extends TextFieldIntrinsicElements = DefaultElementType>(\n  props: AriaTextFieldOptions<T>,\n  ref: TextFieldRefObject<T>\n): TextFieldAria<T> {\n  let {\n    inputElementType = 'input',\n    isDisabled = false,\n    isRequired = false,\n    isReadOnly = false,\n    type = 'text',\n    validationBehavior = 'aria'\n  }: AriaTextFieldOptions<TextFieldIntrinsicElements> = props;\n  let [value, setValue] = useControlledState<string>(props.value, props.defaultValue || '', props.onChange);\n  let {focusableProps} = useFocusable(props, ref);\n  let validationState = useFormValidationState({\n    ...props,\n    value\n  });\n  let {isInvalid, validationErrors, validationDetails} = validationState.displayValidation;\n  let {labelProps, fieldProps, descriptionProps, errorMessageProps} = useField({\n    ...props,\n    isInvalid,\n    errorMessage: props.errorMessage || validationErrors\n  });\n  let domProps = filterDOMProps(props, {labelable: true});\n\n  const inputOnlyProps = {\n    type,\n    pattern: props.pattern\n  };\n\n  useFormReset(ref, value, setValue);\n  useFormValidation(props, validationState, ref);\n\n  useEffect(() => {\n    // This works around a React/Chrome bug that prevents textarea elements from validating when controlled.\n    // We prevent React from updating defaultValue (i.e. children) of textarea when `value` changes,\n    // which causes Chrome to skip validation. Only updating `value` is ok in our case since our\n    // textareas are always controlled. React is planning on removing this synchronization in a\n    // future major version.\n    // https://github.com/facebook/react/issues/19474\n    // https://github.com/facebook/react/issues/11896\n    if (ref.current instanceof getOwnerWindow(ref.current).HTMLTextAreaElement) {\n      let input = ref.current;\n      Object.defineProperty(input, 'defaultValue', {\n        get: () => input.value,\n        set: () => {},\n        configurable: true\n      });\n    }\n  }, [ref]);\n\n  return {\n    labelProps,\n    inputProps: mergeProps(\n      domProps,\n      inputElementType === 'input' && inputOnlyProps,\n      {\n        disabled: isDisabled,\n        readOnly: isReadOnly,\n        required: isRequired && validationBehavior === 'native',\n        'aria-required': (isRequired && validationBehavior === 'aria') || undefined,\n        'aria-invalid': isInvalid || undefined,\n        'aria-errormessage': props['aria-errormessage'],\n        'aria-activedescendant': props['aria-activedescendant'],\n        'aria-autocomplete': props['aria-autocomplete'],\n        'aria-haspopup': props['aria-haspopup'],\n        value,\n        onChange: (e: ChangeEvent<HTMLInputElement>) => setValue(e.target.value),\n        autoComplete: props.autoComplete,\n        autoCapitalize: props.autoCapitalize,\n        maxLength: props.maxLength,\n        minLength: props.minLength,\n        name: props.name,\n        placeholder: props.placeholder,\n        inputMode: props.inputMode,\n\n        // Clipboard events\n        onCopy: props.onCopy,\n        onCut: props.onCut,\n        onPaste: props.onPaste,\n\n        // Composition events\n        onCompositionEnd: props.onCompositionEnd,\n        onCompositionStart: props.onCompositionStart,\n        onCompositionUpdate: props.onCompositionUpdate,\n\n        // Selection events\n        onSelect: props.onSelect,\n\n        // Input events\n        onBeforeInput: props.onBeforeInput,\n        onInput: props.onInput,\n        ...focusableProps,\n        ...fieldProps\n      }\n    ),\n    descriptionProps,\n    errorMessageProps,\n    isInvalid,\n    validationErrors,\n    validationDetails\n  };\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaTextFieldProps} from '@react-types/textfield';\nimport {mergeProps, useEffectEvent} from '@react-aria/utils';\nimport {RefObject, useEffect, useRef} from 'react';\nimport {TextFieldAria, useTextField} from './useTextField';\n\ninterface FormattedTextFieldState {\n  validate: (val: string) => boolean,\n  setInputValue: (val: string) => void\n}\n\n\nfunction supportsNativeBeforeInputEvent() {\n  return typeof window !== 'undefined' &&\n    window.InputEvent &&\n    // @ts-ignore\n    typeof InputEvent.prototype.getTargetRanges === 'function';\n}\n\nexport function useFormattedTextField(props: AriaTextFieldProps, state: FormattedTextFieldState, inputRef: RefObject<HTMLInputElement>): TextFieldAria {\n  // All browsers implement the 'beforeinput' event natively except Firefox\n  // (currently behind a flag as of Firefox 84). React's polyfill does not\n  // run in all cases that the native event fires, e.g. when deleting text.\n  // Use the native event if available so that we can prevent invalid deletions.\n  // We do not attempt to polyfill this in Firefox since it would be very complicated,\n  // the benefit of doing so is fairly minor, and it's going to be natively supported soon.\n  let onBeforeInputFallback = useEffectEvent((e: InputEvent) => {\n    let input = inputRef.current;\n\n    // Compute the next value of the input if the event is allowed to proceed.\n    // See https://www.w3.org/TR/input-events-2/#interface-InputEvent-Attributes for a full list of input types.\n    let nextValue: string;\n    switch (e.inputType) {\n      case 'historyUndo':\n      case 'historyRedo':\n        // Explicitly allow undo/redo. e.data is null in this case, but there's no need to validate,\n        // because presumably the input would have already been validated previously.\n        return;\n      case 'deleteContent':\n      case 'deleteByCut':\n      case 'deleteByDrag':\n        nextValue = input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd);\n        break;\n      case 'deleteContentForward':\n        // This is potentially incorrect, since the browser may actually delete more than a single UTF-16\n        // character. In reality, a full Unicode grapheme cluster consisting of multiple UTF-16 characters\n        // or code points may be deleted. However, in our currently supported locales, there are no such cases.\n        // If we support additional locales in the future, this may need to change.\n        nextValue = input.selectionEnd === input.selectionStart\n          ? input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd + 1)\n          : input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd);\n        break;\n      case 'deleteContentBackward':\n        nextValue = input.selectionEnd === input.selectionStart\n          ? input.value.slice(0, input.selectionStart - 1) + input.value.slice(input.selectionStart)\n          : input.value.slice(0, input.selectionStart) + input.value.slice(input.selectionEnd);\n        break;\n      case 'deleteSoftLineBackward':\n      case 'deleteHardLineBackward':\n        nextValue = input.value.slice(input.selectionStart);\n        break;\n      default:\n        if (e.data != null) {\n          nextValue =\n            input.value.slice(0, input.selectionStart) +\n            e.data +\n            input.value.slice(input.selectionEnd);\n        }\n        break;\n    }\n\n    // If we did not compute a value, or the new value is invalid, prevent the event\n    // so that the browser does not update the input text, move the selection, or add to\n    // the undo/redo stack.\n    if (nextValue == null || !state.validate(nextValue)) {\n      e.preventDefault();\n    }\n  });\n\n  useEffect(() => {\n    if (!supportsNativeBeforeInputEvent()) {\n      return;\n    }\n\n    let input = inputRef.current;\n    input.addEventListener('beforeinput', onBeforeInputFallback, false);\n    return () => {\n      input.removeEventListener('beforeinput', onBeforeInputFallback, false);\n    };\n  }, [inputRef, onBeforeInputFallback]);\n\n  let onBeforeInput = !supportsNativeBeforeInputEvent()\n    ? e => {\n      let nextValue =\n        e.target.value.slice(0, e.target.selectionStart) +\n        e.data +\n        e.target.value.slice(e.target.selectionEnd);\n\n      if (!state.validate(nextValue)) {\n        e.preventDefault();\n      }\n    }\n    : null;\n\n  let {labelProps, inputProps: textFieldProps, descriptionProps, errorMessageProps, ...validation} = useTextField(props, inputRef);\n\n  let compositionStartState = useRef(null);\n  return {\n    inputProps: mergeProps(\n      textFieldProps,\n      {\n        onBeforeInput,\n        onCompositionStart() {\n          // Chrome does not implement Input Events Level 2, which specifies the insertFromComposition\n          // and deleteByComposition inputType values for the beforeinput event. These are meant to occur\n          // at the end of a composition (e.g. Pinyin IME, Android auto correct, etc.), and crucially, are\n          // cancelable. The insertCompositionText and deleteCompositionText input types are not cancelable,\n          // nor would we want to cancel them because the input from the user is incomplete at that point.\n          // In Safari, insertFromComposition/deleteFromComposition will fire, however, allowing us to cancel\n          // the final composition result if it is invalid. As a fallback for Chrome and Firefox, which either\n          // don't support Input Events Level 2, or beforeinput at all, we store the state of the input when\n          // the compositionstart event fires, and undo the changes in compositionend (below) if it is invalid.\n          // Unfortunately, this messes up the undo/redo stack, but until insertFromComposition/deleteByComposition\n          // are implemented, there is no other way to prevent composed input.\n          // See https://bugs.chromium.org/p/chromium/issues/detail?id=1022204\n          let {value, selectionStart, selectionEnd} = inputRef.current;\n          compositionStartState.current = {value, selectionStart, selectionEnd};\n        },\n        onCompositionEnd() {\n          if (!state.validate(inputRef.current.value)) {\n            // Restore the input value in the DOM immediately so we can synchronously update the selection position.\n            // But also update the value in React state as well so it is correct for future updates.\n            let {value, selectionStart, selectionEnd} = compositionStartState.current;\n            inputRef.current.value = value;\n            inputRef.current.setSelectionRange(selectionStart, selectionEnd);\n            state.setInputValue(value);\n          }\n        }\n      }\n    ),\n    labelProps,\n    descriptionProps,\n    errorMessageProps,\n    ...validation\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}